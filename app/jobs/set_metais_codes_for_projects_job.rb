class SetMetaisCodesForProjectsJob < ApplicationJob
  queue_as :default

  MAPPING = {
    9241 => 2477,
    8848 => 1734,
    8989 => nil,
    4284 => 326,
    7705 => 1097,
    8467 => 1840,
    4228 => 1552,
    6349 => 1616,
    6175 => 320,
    6054 => 515,
    8024 => 1247,
    8972 => 2263,
    6257 => 329,
    8119 => 1450,
    6258 => 491,
    4288 => 692,
    7713 => 1154,
    5599 => 476,
    4211 => 487,
    5645 => 471,
    5909 => nil,
    5033 => 346,
    6215 => 530,
    4493 => 347,
    4196 => 327,
    7712 => 1060,
    5048 => 376,
    4929 => 368,
    6309 => 578,
    4237 => 2545,
    6018 => 514,
    6350 => 565,
    4576 => 307,
    4599 => nil,
    6040 => 489,
    4283 => nil,
    8026 => 991,
    6216 => nil,
    5637 => 457,
    6308 => nil,
    6352 => nil,
    6017 => 483,
    5916 => 508,
    8255 => 1594,
    4898 => 473,
    5641 => 380,
    4431 => 361,
    4287 => nil,
    5640 => 1159,
    4035 => 611,
    4263 => 490,
    4262 => nil,
    8320 => 1760,
    5931 => 350,
    5928 => nil,
    5912 => 464,
    6346 => nil,
    8419 => 1479,
    8971 => 1774,
    5703 => 462,
    5911 => 488,
    4494 => nil,
    6256 => 536,
    6048 => 381,
    8462 => 2055,
    4229 => nil,
    4248 => 369,
    6347 => 778,
    8431 => 2054,
    8420 => 1934,
    4334 => 359,
    4329 => nil,
    4362 => 315,
    9041 => 2269,
    5402 => nil,
    4260 => 1704,
    6344 => 702,
  }

  def perform
    MAPPING.each do |project_id, metais_code|
      project = Project.find_by_id(project_id)
      if project
        project.metais_code = "projekt_#{metais_code}" if metais_code
        project.save
      end
    end
  end
end
